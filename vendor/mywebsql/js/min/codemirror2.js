window.CodeMirror=function(){function f(a,b){function c(e){m.onDragEvent&&m.onDragEvent(F,Ua(e))||hb(e)}function d(e){return 0<=e&&e<v.size}function h(e){for(var a=v;!a.lines;)for(var n=0;;++n){var b=a.children[n],c=b.chunkSize();if(e<c){a=b;break}e-=c}return a.lines[e]}function q(e,a){ka=!0;for(var n=a-e.height,b=e;b;b=b.parent)b.height+=n}function g(e,a){e.styles||e.highlight(Q,e.stateAfter=Va(ca(e)),m.tabSize);return e.getContent(m.tabSize,a,m.lineWrapping)}function L(e){var a={line:0,ch:0};oc(a,
{line:v.size-1,ch:h(v.size-1).text.length},ib(e),a,a);wa=!0}function u(e){var a=[];v.iter(0,v.size,function(e){a.push(e.text)});return a.join(e||"\n")}function p(e){if(!m.onDragEvent||!m.onDragEvent(F,Ua(e))){B(e);var a=Wa(e,!0),n=e.dataTransfer.files;if(a&&!m.readOnly)if(n&&n.length&&window.FileReader&&window.File){var b=n.length,c=Array(b),l=0;e=function(e,n){var d=new FileReader;d.onload=function(){c[n]=d.result;++l==b&&(a=G(a),x(function(){var e=V(c.join(""),a,a);ea(a,e)})())};d.readAsText(e)};
for(var d=0;d<b;++d)e(n[d],d)}else if(!jb||I(a,k.from)||I(k.to,a))try{(c=e.dataTransfer.getData("Text"))&&pc(function(){var e=k.from,n=k.to;ea(a,a);jb&&V("",e,n);X(c);fa()})}catch(h){}}}function Rc(e){var a=Nb();e.dataTransfer.setData("Text",a);e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(s("img"),0,0)}function kb(e,a){if("string"==typeof e&&(e=Ob[e],!e))return!1;var n=ga;try{m.readOnly&&(lb=!0),a&&(ga=null),e(F)}catch(b){if(b!=qc)throw b;return!1}finally{ga=n,lb=!1}return!0}function K(e){function a(){d=
!0}var n=J(m.keyMap),b=n.auto;clearTimeout(rc);b&&!xa(e)&&(rc=setTimeout(function(){J(m.keyMap)==n&&(m.keyMap=b.call?b.call(null,F):b)},50));var c=Ga[R(e,"keyCode")],l=!1,l=ya&&mb;if(null==c||e.altGraphKey)return!1;R(e,"altKey")&&(c="Alt-"+c);R(e,l?"metaKey":"ctrlKey")&&(c="Ctrl-"+c);R(e,l?"ctrlKey":"metaKey")&&(c="Cmd-"+c);var d=!1,l=R(e,"shiftKey")?D("Shift-"+c,m.extraKeys,m.keyMap,function(e){return kb(e,!0)},a)||D(c,m.extraKeys,m.keyMap,function(e){if("string"==typeof e&&/^go[A-Z]/.test(e))return kb(e)},
a):D(c,m.extraKeys,m.keyMap,kb,a);d&&(l=!1);l&&(B(e),nb(),Ha&&(e.oldKeyCode=e.keyCode,e.keyCode=0));return l}function Sc(e,a){var n=D("'"+a+"'",m.extraKeys,m.keyMap,function(e){return kb(e,!0)});n&&(B(e),nb());return n}function sc(e){Y||Ma();Ha&&27==e.keyCode&&(e.returnValue=!1);Na&&ob()&&(Na=!1);if(!m.onKeyEvent||!m.onKeyEvent(F,Ua(e))){var a=R(e,"keyCode");fb(16==a||R(e,"shiftKey"));var n=K(e);ya&&(Pb=n?a:null,!n&&88==a&&R(e,mb?"metaKey":"ctrlKey")&&X(""))}}function Ma(){if("nocursor"!=m.readOnly){if(!Y){if(m.onFocus)m.onFocus(F);
Y=!0;-1==t.className.search(/\bCodeMirror-focused\b/)&&(t.className+=" CodeMirror-focused")}pb();nb()}}function Qb(){if(Y){if(m.onBlur)m.onBlur(F);Y=!1;za&&x(function(){za&&(za(),za=null)})();t.className=t.className.replace(" CodeMirror-focused","")}clearInterval(Rb);setTimeout(function(){Y||(ga=null)},150)}function oc(e,a,n,b,c){if(!lb){var l=[];v.iter(e.line,a.line+1,function(e){l.push(la(e.text,e.markedSpans))});if(P)for(P.addChange(e.line,n.length,l);P.done.length>m.undoDepth;)P.done.shift();
n=M(w(l[0]),w(ha(l)),e.ch,a.ch,n);tc(e,a,n,b,c)}}function uc(e,a){if(e.length){for(var n=e.pop(),b=[],c=n.length-1;0<=c;c-=1){var l=n[c],d=[],m=l.start+l.added;v.iter(l.start,m,function(e){d.push(la(e.text,e.markedSpans))});b.push({start:l.start,added:l.old.length,old:d});var k={line:l.start+l.old.length-1,ch:Tc(z(ha(d)),z(ha(l.old)))};tc({line:l.start,ch:0},{line:m-1,ch:h(m-1).text.length},l.old,k,k)}wa=!0;a.push(b)}}function tc(e,a,n,b,c){function l(e){return e<=Math.min(a.line,a.line+y)?e:e+y}
if(!lb){var d=!1,g=ma.text.length;m.lineWrapping||v.iter(e.line,a.line+1,function(e){if(!e.hidden&&e.text.length==g)return d=!0});if(e.line!=a.line||1<n.length)ka=!0;var La=a.line-e.line,$=h(e.line),L=h(a.line),u=ha(n);if(0==e.ch&&0==a.ch&&""==z(u)){for(var p=[],f=0,x=n.length-1;f<x;++f)p.push(new r(z(n[f]),w(n[f])));L.update(L.text,w(u));La&&v.remove(e.line,La,Xa);p.length&&v.insert(e.line,p)}else if($==L)if(1==n.length)$.update($.text.slice(0,e.ch)+z(n[0])+$.text.slice(a.ch),w(n[0]));else{p=[];
f=1;for(x=n.length-1;f<x;++f)p.push(new r(z(n[f]),w(n[f])));p.push(new r(z(u)+$.text.slice(a.ch),w(u)));$.update($.text.slice(0,e.ch)+z(n[0]),w(n[0]));v.insert(e.line+1,p)}else if(1==n.length)$.update($.text.slice(0,e.ch)+z(n[0])+L.text.slice(a.ch),w(n[0])),v.remove(e.line+1,La,Xa);else{p=[];$.update($.text.slice(0,e.ch)+z(n[0]),w(n[0]));L.update(z(u)+L.text.slice(a.ch),w(u));f=1;for(x=n.length-1;f<x;++f)p.push(new r(z(n[f]),w(n[f])));1<La&&v.remove(e.line+1,La-1,Xa);v.insert(e.line+1,p)}if(m.lineWrapping){var s=
Math.max(5,t.clientWidth/Sb()-3);v.iter(e.line,e.line+n.length,function(e){if(!e.hidden){var a=Math.ceil(e.text.length/s)||1;a!=e.height&&q(e,a)}})}else v.iter(e.line,e.line+n.length,function(e){var a=e.text;!e.hidden&&a.length>g&&(ma=e,g=a.length,qb=!0,d=!1)}),d&&(Ya=!0);aa=Math.min(aa,e.line);rb(400);var y=n.length-La-1;qa.push({from:e.line,to:a.line+1,diff:y});if(m.onChange){for(f=0;f<n.length;++f)"string"!=typeof n[f]&&(n[f]=n[f].text);e={from:e,to:a,text:n};if(Oa){for(n=Oa;n.next;n=n.next);n.next=
e}else Oa=e}Za(G(b),G(c),l(k.from.line),l(k.to.line))}}function vc(){var e=v.height*na()+2*H.offsetTop;return.99*e>t.offsetHeight?e:!1}function Tb(e){var a=vc();E.style.display=a?"block":"none";a?(wc.style.height=oa.style.minHeight=a+"px",E.style.height=t.clientHeight+"px",null!=e&&(E.scrollTop=t.scrollTop=e,sb&&setTimeout(function(){E.scrollTop==e&&(E.scrollTop=e+(e?-1:1),E.scrollTop=e)},0))):oa.style.minHeight="";tb.style.top=Pa*na()+"px"}function xc(){ma=h(0);qb=!0;var e=ma.text.length;v.iter(1,
v.size,function(a){var n=a.text;!a.hidden&&n.length>e&&(e=n.length,ma=a)});Ya=!1}function V(e,a,n){function b(ja){if(I(ja,a))return ja;if(!I(n,ja))return c;var d=ja.line+e.length-(n.line-a.line)-1,h=ja.ch;ja.line==n.line&&(h+=ha(e).length-(n.ch-(n.line==a.line?a.ch:0)));return{line:d,ch:h}}a=G(a);n=n?G(n):a;e=ib(e);var c;va(e,a,n,function(e){c=e;return{from:b(k.from),to:b(k.to)}});return c}function X(e,a){va(ib(e),k.from,k.to,function(e){return"end"==a?{from:e,to:e}:"start"==a?{from:k.from,to:k.from}:
{from:k.from,to:e}})}function va(e,a,n,b){var c=1==e.length?e[0].length+a.ch:ha(e).length;b=b({line:a.line+e.length-1,ch:c});oc(a,n,e,b.from,b.to)}function yc(e,a,n){var b=e.line,c=a.line;if(b==c)return h(b).text.slice(e.ch,a.ch);var l=[h(b).text.slice(e.ch)];v.iter(b+1,c,function(e){l.push(e.text)});l.push(h(c).text.slice(0,a.ch));return l.join(n||"\n")}function Nb(e){return yc(k.from,k.to,e)}function pb(){Na||Ub.set(m.pollInterval,function(){ob();Y&&pb()})}function Aa(){function e(){ob()||a?(Na=
!1,pb()):(a=!0,Ub.set(60,e))}var a=!1;Na=!0;Ub.set(20,e)}function ob(){if(!Y||Uc(y)||m.readOnly)return!1;var e=y.value;if(e==da)return!1;ub||zc();ga=null;for(var a=0,n=Math.min(da.length,e.length);a<n&&da[a]==e[a];)++a;a<da.length?k.from={line:k.from.line,ch:k.from.ch-(da.length-a)}:vb&&C(k.from,k.to)&&(k.to={line:k.to.line,ch:Math.min(h(k.to.line).text.length,k.to.ch+(e.length-a))});X(e.slice(a),"end");1E3<e.length?y.value=da="":da=e;ub||Ac();return!0}function wb(e){C(k.from,k.to)?e&&(da=y.value=
""):(da="",y.value=Nb(),Y&&(e=y,Vb?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()))}function fa(){"nocursor"!=m.readOnly&&y.focus()}function Vc(){var e=Bc();Fa(e.x,e.y,e.x,e.yBot);if(Y){var a=oa.getBoundingClientRect(),n=null;0>e.y+a.top?n=!0:e.y+a.top+na()>(window.innerHeight||document.documentElement.clientHeight)&&(n=!1);if(null!=n){if(a="none"==S.style.display)S.style.display="",S.style.left=e.x+"px",S.style.top=e.y-Pa+"px";S.scrollIntoView(n);a&&(S.style.display="none")}}}function Bc(){var e=
ra(k.inverted?k.from:k.to);return{x:m.lineWrapping?Math.min(e.x,H.offsetWidth):e.x,y:e.y,yBot:e.yBot}}function Fa(e,a,n,b){e=Ja(e,a,n,b);null!=e.scrollLeft&&(t.scrollLeft=e.scrollLeft);null!=e.scrollTop&&(E.scrollTop=t.scrollTop=e.scrollTop)}function Ja(e,a,b,c){var d=H.offsetLeft,l=H.offsetTop;a+=l;c+=l;e+=d;b+=d;var h=t.clientHeight,k=E.scrollTop,g={},q=vc()||Infinity,f=a<l+10,l=c+l>q-10;a<k?g.scrollTop=f?0:Math.max(0,a):c>k+h&&(g.scrollTop=(l?q:c)-h);a=t.clientWidth;c=t.scrollLeft;h=m.fixedGutter?
W.clientWidth:0;d=e<h+d+10;e<c+h||d?(d&&(e=0),g.scrollLeft=Math.max(0,e-10-h)):b>a+c-3&&(g.scrollLeft=b+10-a);return g}function Ka(e){var a=na(),b=(null!=e?e:E.scrollTop)-H.offsetTop;e=Math.max(0,Math.floor(b/a));a=Math.ceil((b+t.clientHeight)/a);return{from:Wb(v,e),to:Wb(v,a)}}function Ba(e,a,b){function c(){var e=ba.firstChild,a=!1;v.iter(N,O,function(b){if(e){if(!b.hidden){var n=Math.round(e.offsetHeight/f)||1;b.height!=n&&(q(b,n),ka=a=!0)}e=e.nextSibling}});return a}if(t.clientWidth){var d=Ka(b);
if(!0!==e&&0==e.length&&d.from>N&&d.to<O)Tb(b);else{var l=Math.max(d.from-100,0),h=Math.min(v.size,d.to+100);N<l&&20>l-N&&(l=N);O>h&&20>O-h&&(h=Math.min(v.size,O));e=!0===e?[]:eb([{from:N,to:O,domStart:0}],e);for(var k=d=0;k<e.length;++k){var g=e[k];g.from<l&&(g.domStart+=l-g.from,g.from=l);g.to>h&&(g.to=h);g.from>=g.to?e.splice(k--,1):d+=g.to-g.from}if(d==h-l&&l==N&&h==O)Tb(b);else{e.sort(function(e,a){return e.domStart-a.domStart});var f=na(),d=W.style.display;ba.style.display="none";gb(l,h,e);
ba.style.display=W.style.display="";(k=l!=N||h!=O||Cc!=t.clientHeight+f)&&(Cc=t.clientHeight+f);(l!=N||h!=O&&m.onViewportChange)&&setTimeout(function(){if(m.onViewportChange)m.onViewportChange(F,l,h)});N=l;O=h;Pa=Xb(v,l);rb(100);if(ba.childNodes.length!=O-N)throw Error("BAD PATCH! "+JSON.stringify(e)+" size="+(O-N)+" nodes="+ba.childNodes.length);m.lineWrapping&&c();W.style.display=d;(k||ka)&&Yb()&&m.lineWrapping&&c()&&Yb();Tb(b);db();if(!a&&m.onUpdate)m.onUpdate(F);return!0}}}else N=O=Pa=0}function eb(e,
a){for(var b=0,c=a.length||0;b<c;++b){for(var d=a[b],l=[],h=d.diff||0,k=0,m=e.length;k<m;++k){var g=e[k];d.to<=g.from&&d.diff?l.push({from:g.from+h,to:g.to+h,domStart:g.domStart}):d.to<=g.from||d.from>=g.to?l.push(g):(d.from>g.from&&l.push({from:g.from,to:d.from,domStart:g.domStart}),d.to<g.to&&l.push({from:d.to+h,to:g.to+h,domStart:g.domStart+(d.to-g.from)}))}e=l}return e}function gb(e,a,b){function c(e){var a=e.nextSibling;e.parentNode.removeChild(e);return a}if(b.length){for(var d=0,l=ba.firstChild,
h=0;h<b.length;++h){for(var k=b[h];k.domStart>d;)l=c(l),d++;for(var m=0,k=k.to-k.from;m<k;++m)l=l.nextSibling,d++}for(;l;)l=c(l)}else Zb(ba);var q=b.shift(),l=ba.firstChild,m=e;v.iter(e,a,function(e){q&&q.to==m&&(q=b.shift());if(!q||q.from>m){if(e.hidden)var a=s("pre");else a=g(e),e.className&&(a.className=e.className),e.bgClassName&&(e=s("pre","\u00a0",e.bgClassName,"position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2"),a=s("div",[e,a],null,"position: relative"));ba.insertBefore(a,
l)}else l=l.nextSibling;++m})}function Yb(){if(m.gutter||m.lineNumbers){var e=tb.offsetHeight,a=t.clientHeight;W.style.height=(2>e-a?a:e)+"px";var b=document.createDocumentFragment(),c=N,d;v.iter(N,Math.max(O,N+1),function(e){if(e.hidden)b.appendChild(s("pre"));else{var a=e.gutterMarker,Z=m.lineNumbers?m.lineNumberFormatter(c+m.firstLineNumber):null;a&&a.text?Z=a.text.replace("%N%",null!=Z?Z:""):null==Z&&(Z="\u00a0");var l=b.appendChild(s("pre",null,a&&a.style));l.innerHTML=Z;for(Z=1;Z<e.height;++Z)l.appendChild(s("br")),
l.appendChild(document.createTextNode("\u00a0"));a||(d=c)}++c});W.style.display="none";$a(Qa,b);if(null!=d&&m.lineNumbers){for(var e=Qa.childNodes[d-N],a=String(v.size).length,l=Wc(e.firstChild),h="";l.length+h.length<a;)h+="\u00a0";h&&e.insertBefore(document.createTextNode(h),e.firstChild)}W.style.display="";e=2<Math.abs((parseInt(H.style.marginLeft)||0)-W.offsetWidth);H.style.marginLeft=W.offsetWidth+"px";ka=!1;return e}}function db(){var e=C(k.from,k.to),a=ra(k.from,!0),b=e?a:ra(k.to,!0),c=k.inverted?
a:b,d=na(),l=Ra(T),h=Ra(ba);Ia.style.top=Math.max(0,Math.min(t.offsetHeight,c.y+h.top-l.top))+"px";Ia.style.left=Math.max(0,Math.min(t.offsetWidth,c.x+h.left-l.left))+"px";if(e)S.style.top=c.y+"px",S.style.left=(m.lineWrapping?Math.min(c.x,H.offsetWidth):c.x)+"px",S.style.display="",xb.style.display="none";else{var e=a.y==b.y,g=document.createDocumentFragment(),q=H.clientWidth||H.offsetWidth,c=H.clientHeight||H.offsetHeight,l=function(e,a,b,n){g.appendChild(s("div",null,"CodeMirror-selected","position: absolute; left: "+
e+"px; top: "+a+"px; "+(Xc?"width: "+(b?q-b-e:q)+"px":"right: "+b+"px")+"; height: "+n+"px"))};k.from.ch&&0<=a.y&&l(a.x,a.y,e?q-b.x:0,d);a=Math.max(0,a.y+(k.from.ch?d:0));h=Math.min(b.y,c)-a;h>.2*d&&l(0,a,0,h);e&&k.from.ch||!(b.y<c-.5*d)||l(0,b.y,q-b.x,d);$a(xb,g);S.style.display="none";xb.style.display=""}}function fb(e){ga=e?ga||(k.inverted?k.to:k.from):null}function ea(e,a){var b=ga&&G(ga);b&&(I(b,e)?e=b:I(a,b)&&(a=b));Za(e,a);yb=!0}function Za(e,a,b,c){zb=null;null==b&&(b=k.from.line,c=k.to.line);
if(!C(k.from,e)||!C(k.to,a)){if(I(a,e)){var d=a;a=e;e=d}e.line!=b&&((b=Ab(e,b,k.from.ch))?e=b:$b(e.line,!1));a.line!=c&&(a=Ab(a,c,k.to.ch));C(e,a)?k.inverted=!1:C(e,k.to)?k.inverted=!1:C(a,k.from)&&(k.inverted=!0);if(m.autoClearEmptyLines&&C(k.from,k.to)&&(k.inverted?e:a).line!=k.from.line&&k.from.line<v.size){var l=h(k.from.line);/^\s+$/.test(l.text)&&setTimeout(x(function(){if(l.parent&&/^\s+$/.test(l.text)){var a=ca(l);V("",{line:a,ch:0},{line:a,ch:l.text.length})}},10))}k.from=e;k.to=a;Ca=!0}}
function Ab(a,b,n){function c(b){for(var d=a.line+b,Z=1==b?v.size:-1;d!=Z;){var ja=h(d);if(!ja.hidden){b=a.ch;if(l||b>n||b>ja.text.length)b=ja.text.length;return{line:d,ch:b}}d+=b}}var d=h(a.line),l=a.ch==d.text.length&&a.ch!=n;return d.hidden?a.line>=b?c(1)||c(-1):c(-1)||c(1):a}function Da(a,b,n){a=G({line:a,ch:b||0});(n?ea:Za)(a,a)}function Bb(a){return Math.max(0,Math.min(a,v.size-1))}function G(a){if(0>a.line)return{line:0,ch:0};if(a.line>=v.size)return{line:v.size-1,ch:h(v.size-1).text.length};
var b=a.ch,n=h(a.line).text.length;return null==b||b>n?{line:a.line,ch:n}:0>b?{line:a.line,ch:0}:a}function ac(a,b){function n(b){if(l==(0>a?0:g.text.length)){if(b=!b)a:{b=d+a;for(var c=0>a?-1:v.size;b!=c;b+=a){var n=h(b);if(!n.hidden){d=b;g=n;b=!0;break a}}b=void 0}if(b)l=0>a?g.text.length:0;else return!1}else l+=a;return!0}var c=k.inverted?k.from:k.to,d=c.line,l=c.ch,g=h(d);if("char"==b)n();else if("column"==b)n(!0);else if("word"==b)for(c=!1;!(0>a)||n();){if(Cb(g.text.charAt(l)))c=!0;else if(c){0>
a&&(a=1,n());break}if(0<a&&!n())break}return{line:d,ch:l}}function Dc(a){var b=h(a.line).text,c=a.ch,d=a.ch;if(b){!1===a.after||d==b.length?--c:++d;for(var g=b.charAt(c),g=Cb(g)?Cb:/\s/.test(g)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!Cb(a)};0<c&&g(b.charAt(c-1));)--c;for(;d<b.length&&g(b.charAt(d));)++d}return{from:{line:a.line,ch:c},to:{line:a.line,ch:d}}}function lc(a){ea({line:a,ch:0},G({line:a+1,ch:0}))}function Db(a,b){b||(b="add");if("smart"==b)if(Q.indent)var c=Va(a);
else b="prev";var d=h(a),g=d.indentation(m.tabSize),l=d.text.match(/^\s*/)[0],k;"smart"==b&&(k=Q.indent(c,d.text.slice(l.length),d.text),k==qc&&(b="prev"));"prev"==b?k=a?h(a-1).indentation(m.tabSize):0:"add"==b?k=g+m.indentUnit:"subtract"==b&&(k=g-m.indentUnit);k=Math.max(0,k);c="";d=0;if(m.indentWithTabs)for(g=Math.floor(k/m.tabSize);g;--g)d+=m.tabSize,c+="\t";d<k&&(c+=Ec(k-d));c!=l&&V(c,{line:a,ch:0},{line:a,ch:l.length})}function Fc(){Q=f.getMode(m,m.mode);v.iter(0,v.size,function(a){a.stateAfter=
null});aa=0;rb(100)}function mc(a,b){if(m.lineWrapping){T.className+=" CodeMirror-wrap";var c=t.clientWidth/Sb()-3;v.iter(0,v.size,function(a){if(!a.hidden){var e=Math.ceil(a.text.length/c)||1;1!=e&&q(a,e)}});H.style.minWidth=Eb.style.left=""}else T.className=T.className.replace(" CodeMirror-wrap",""),xc(),v.iter(0,v.size,function(a){1==a.height||a.hidden||q(a,1)});qa.push({from:0,to:v.size})}function Gc(){t.className=t.className.replace(/\s*cm-s-\S+/g,"")+m.theme.replace(/(^|\s)\s*/g," cm-s-")}function Hc(){var a=
sa[m.keyMap].style;T.className=T.className.replace(/\s*cm-keymap-\S+/g,"")+(a?" cm-keymap-"+a:"")}function Fb(a,b){this.lines=[];this.type=a;b&&(this.style=b)}function bc(a,b,c,d){a=G(a);b=G(b);var h=new Fb("range",c);if(d)for(var l in d)d.hasOwnProperty(l)&&(h[l]=d[l]);var g=a.line;v.iter(g,b.line+1,function(c){var n={from:g==a.line?a.ch:null,to:g==b.line?b.ch:null,marker:h};(c.markedSpans||(c.markedSpans=[])).push(n);h.lines.push(c);++g});qa.push({from:a.line,to:b.line+1});return h}function Ic(a,
b){var c=a,d=a;"number"==typeof a?d=h(Bb(a)):c=ca(a);if(null!=c&&b(d,c))qa.push({from:c,to:c+1});else return null;return d}function $b(a,b){return Ic(a,function(a,e){if(a.hidden!=b){a.hidden=b;m.lineWrapping||(b&&a.text.length==ma.text.length?Ya=!0:!b&&a.text.length>ma.text.length&&(ma=a,Ya=!1));q(a,b?0:1);var c=k.from.line,d=k.to.line;if(b&&(c==e||d==e)){c=c==e?Ab({line:c,ch:0},c,0):k.from;d=d==e?Ab({line:d,ch:0},d,0):k.to;if(!d)return;Za(c,d)}return ka=!0}})}function cc(a,b){if(0==b)return{top:0,
left:0};m.lineWrapping&&b<a.text.length&&Gb.test(a.text.slice(b-1,b+1));var c=g(a,b);$a(Sa,c);var c=c.anchor,d=c.offsetTop,h=c.offsetLeft;Ha&&0==d&&0==h&&(d=s("span","x"),c.parentNode.insertBefore(d,c.nextSibling),d=d.offsetTop);return{top:d,left:h}}function ra(a,b){var c,d=na(),g=d*(Xb(v,a.line)-(b?Pa:0));if(0==a.ch)c=0;else{var l=cc(h(a.line),a.ch);c=l.left;m.lineWrapping&&(g+=Math.max(0,l.top))}return{x:c,y:g,yBot:g+d}}function Hb(a,b){function c(a){a=cc(q,a);if(p){var e=Math.round(a.top/d);u=
e!=L;return Math.max(0,a.left+(e-L)*t.clientWidth)}return a.left}var d=na(),g=Sb(),l=Pa+Math.floor(b/d);if(0>l)return{line:0,ch:0};var k=Wb(v,l);if(k>=v.size)return{line:v.size-1,ch:h(v.size-1).text.length};var q=h(k),f=q.text,p=m.lineWrapping,L=p?l-Xb(v,k):0;if(0>=a&&0==L)return{line:k,ch:0};for(var u=!1,x=l=0,f=f.length,r=Math.min(f,Math.ceil((a+L*t.clientWidth*.9)/g));;){var s=c(r);if(s<=a&&r<f)r=Math.min(f,Math.ceil(1.2*r));else{g=s;f=r;break}}if(a>g)return{line:k,ch:f};r=Math.floor(.8*f);s=c(r);
s<a&&(l=r,x=s);for(;;){if(1>=f-l)return x=a-x<g-a,{line:k,ch:x?l:f,after:x};r=Math.ceil((l+f)/2);s=c(r);s>a?(f=r,g=s,u&&(g+=1E3)):(l=r,x=s)}}function na(){if(null==Ta){Ta=s("pre");for(var a=0;49>a;++a)Ta.appendChild(document.createTextNode("x")),Ta.appendChild(s("br"));Ta.appendChild(document.createTextNode("x"))}a=ba.clientHeight;if(a==Jc)return dc;Jc=a;$a(Sa,Ta.cloneNode(!0));dc=Sa.firstChild.offsetHeight/50||1;Zb(Sa);return dc}function Sb(){if(t.clientWidth==Kc)return Lc;Kc=t.clientWidth;var a=
s("span","x"),b=s("pre",[a]);$a(Sa,b);return Lc=a.offsetWidth||10}function Wa(a,b){var c=Ra(t,!0),d,h;try{d=a.clientX,h=a.clientY}catch(l){return null}if(!b&&(d-c.left>t.clientWidth||h-c.top>t.clientHeight))return null;c=Ra(H,!0);return Hb(d-c.left,h-c.top)}function Mc(a){function b(){Ia.style.position="relative";y.style.cssText=h;ec&&(E.scrollTop=d);pb();if(null!=y.selectionStart){clearTimeout(fc);var a=y.value=" "+(C(k.from,k.to)?"":y.value),e=0;da=" ";y.selectionStart=1;y.selectionEnd=a.length;
fc=setTimeout(function $(){" "==da&&0==y.selectionStart?x(Ob.selectAll)(F):10>e++?fc=setTimeout($,500):wb()},200)}}var c=Wa(a),d=E.scrollTop;if(c&&!ya){(C(k.from,k.to)||I(c,k.from)||!I(c,k.to))&&x(Da)(c.line,c.ch);var h=y.style.cssText;Ia.style.position="absolute";y.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
fa();wb(!0);C(k.from,k.to)&&(y.value=da=" ");if(ab){hb(a);var l=A(window,"mouseup",function(){l();setTimeout(b,20)},!0)}else setTimeout(b,50)}}function nb(){clearInterval(Rb);var a=!0;S.style.visibility="";Rb=setInterval(function(){S.style.visibility=(a=!a)?"":"hidden"},m.cursorBlinkRate)}function Nc(a){function b(a,e,c){if(a.text){var d=a.styles;a=m?0:a.text.length-1;for(var n,h=m?0:d.length-2,g=m?d.length:-2;h!=g;h+=2*q){var l=d[h];if(d[h+1]!=u)a+=q*l.length;else for(var k=m?0:l.length-1,Z=m?l.length:
-1;k!=Z;k+=q,a+=q)if(a>=e&&a<c&&r.test(n=l.charAt(k))){var f=gc[n];if(">"==f.charAt(1)==m)t.push(n);else{if(t.pop()!=f.charAt(0))return{pos:a,match:!1};if(!t.length)return{pos:a,match:!0}}}}}}var c=k.inverted?k.from:k.to,d=h(c.line),g=c.ch-1,l=0<=g&&gc[d.text.charAt(g)]||gc[d.text.charAt(++g)];if(l){l.charAt(0);for(var m=">"==l.charAt(1),q=m?1:-1,f=d.styles,L=g+1,l=0,p=f.length;l<p;l+=2)if(0>=(L-=f[l].length)){var u=f[l+1];break}for(var t=[d.text.charAt(g)],r=/[(){}[\]]/,l=c.line,p=m?Math.min(l+100,
v.size):Math.max(-1,l-100);l!=p;l+=q){var d=h(l),s=l==c.line;if(s=b(d,s&&m?g+1:0,s&&!m?g:d.text.length))break}s||(s={pos:null,match:!1});var u=s.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",y=bc({line:c.line,ch:g},{line:c.line,ch:g+1},u),Aa=null!=s.pos&&bc({line:l,ch:s.pos},{line:l,ch:s.pos+1},u),c=x(function(){y.clear();Aa&&Aa.clear()});a?setTimeout(c,800):za=c}}function nc(a){var b,c,d=a;for(a-=40;d>a;--d){if(0==d)return 0;var g=h(d-1);if(g.stateAfter)return d;g=g.indentation(m.tabSize);
if(null==c||b>g)c=d-1,b=g}return c}function Va(a){var b=nc(a),c=b&&h(b-1).stateAfter,c=c?U(Q,c):pa(Q);v.iter(b,a,function(d){d.process(Q,c,m.tabSize);d.stateAfter=b==a-1||0==b%5?U(Q,c):null});return c}function Yc(){if(!(aa>=O)){var a=+new Date+m.workTime,b=U(Q,Va(aa)),c=aa;v.iter(aa,O,function(c){aa>=N?(c.highlight(Q,b,m.tabSize),c.stateAfter=U(Q,b)):(c.process(Q,b,m.tabSize),c.stateAfter=0==aa%5?U(Q,b):null);++aa;if(+new Date>a)return rb(m.workDelay),!0});O>c&&aa>=N&&x(function(){qa.push({from:c,
to:aa})})()}}function rb(a){aa<O&&Zc.set(a,Yc)}function zc(){wa=yb=Oa=null;qa=[];Ca=!1;Xa=[]}function Ac(){Ya&&xc();if(qb&&!m.lineWrapping){var a=Eb.offsetWidth,b=cc(ma,ma.text.length).left;hc||(Eb.style.left=b+"px",H.style.minWidth=b+a+"px");qb=!1}var c,d;Ca&&(a=Bc(),c=Ja(a.x,a.y,a.x,a.yBot));if(qa.length||c&&null!=c.scrollTop)d=Ba(qa,!0,c&&c.scrollTop);d||(Ca&&db(),ka&&Yb());c&&Vc();Ca&&nb();Y&&(!0===wa||!1!==wa&&Ca)&&wb(yb);Ca&&m.matchBrackets&&setTimeout(x(function(){za&&(za(),za=null);C(k.from,
k.to)&&Nc(!1)}),20);b=Ca;a=Xa;if(Oa&&m.onChange&&F)m.onChange(F,Oa);if(b&&m.onCursorActivity)m.onCursorActivity(F);for(b=0;b<a.length;++b)a[b](F);if(d&&m.onUpdate)m.onUpdate(F)}function x(a){return function(){ub++||zc();try{var b=a.apply(this,arguments)}finally{--ub||Ac()}return b}}function pc(a){P.startCompound();try{return a()}finally{P.endCompound()}}var m={},ic=f.defaults,bb;for(bb in ic)ic.hasOwnProperty(bb)&&(m[bb]=(b&&b.hasOwnProperty(bb)?b:ic)[bb]);var y=s("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em");
y.setAttribute("wrap","off");y.setAttribute("autocorrect","off");y.setAttribute("autocapitalize","off");var Ia=s("div",[y],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),wc=s("div",null,"CodeMirror-scrollbar-inner"),E=s("div",[wc],"CodeMirror-scrollbar"),ba=s("div"),xb=s("div",null,null,"position: relative; z-index: -1"),S=s("pre","\u00a0","CodeMirror-cursor"),Eb=s("pre","\u00a0","CodeMirror-cursor","visibility: hidden"),Sa=s("div",null,null,"position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;"),
H=s("div",[Sa,S,Eb,xb,ba],null,"position: relative; z-index: 0"),Qa=s("div",null,"CodeMirror-gutter-text"),W=s("div",[Qa],"CodeMirror-gutter"),tb=s("div",[W,s("div",[H],"CodeMirror-lines")],null,"position: relative"),oa=s("div",[tb],null,"position: relative"),t=s("div",[oa],"CodeMirror-scroll");t.setAttribute("tabIndex","-1");var T=s("div",[Ia,E,t],"CodeMirror"+(m.lineWrapping?" CodeMirror-wrap":""));a.appendChild?a.appendChild(T):a(T);Gc();Hc();Vb&&(y.style.width="0px");sb||(t.draggable=!0);H.style.outline=
"none";null!=m.tabindex&&(y.tabIndex=m.tabindex);m.autofocus&&fa();m.gutter||m.lineNumbers||(W.style.display="none");jc&&(Ia.style.height="1px",Ia.style.position="absolute");$c?(E.style.zIndex=-2,E.style.visibility="hidden"):hc&&(E.style.minWidth="18px");var Ub=new kc,Zc=new kc,Rb,Q,v=new ia([new ta([new r("")])]),aa=0,Y;Fc();var k={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},ga,Ib,Jb,ua=0,jb,vb=!1,lb=!1,wa,yb,qa,Oa,Ca,ka,Xa,Pa=0,N=0,O=0,Cc=0,za,ma=h(0),Ya=!1,qb=!0,Na=!1,zb=null;x(function(){L(m.value||
"");wa=!1})();var P=new Kb;A(t,"mousedown",x(function(a){function b(c){sb&&(t.draggable=!1);jb=!1;s();y();10>Math.abs(a.clientX-c.clientX)+Math.abs(a.clientY-c.clientY)&&(B(c),Da(q.line,q.ch,!0),fa())}function c(a){if("single"==f)ea(q,a);else if("double"==f){var e=Dc(a);I(a,p)?ea(e.from,r):ea(p,e.to)}else"triple"==f&&(I(a,p)?ea(r,G({line:a.line,ch:0})):ea(p,G({line:a.line+1,ch:0})))}function d(a){var e=Wa(a,!0);if(e&&!C(e,L)){Y||Ma();L=e;c(e);wa=!1;var b=Ka();if(e.line>=b.to||e.line<b.from)u=setTimeout(x(function(){d(a)}),
150)}}function h(a){clearTimeout(u);var e=Wa(a);e&&c(e);B(a);fa();wa=!0;v();s()}fb(R(a,"shiftKey"));for(var g=a.target||a.srcElement;g!=T;g=g.parentNode)if(g.parentNode==oa&&g!=tb)return;for(g=a.target||a.srcElement;g!=T;g=g.parentNode)if(g.parentNode==Qa){if(m.onGutterClick)m.onGutterClick(F,Lb(Qa.childNodes,g)+N,a);return B(a)}var q=Wa(a);switch(Oc(a)){case 3:ab&&Mc(a);return;case 2:q&&Da(q.line,q.ch,!0);setTimeout(fa,20);B(a);return}if(q){Y||Ma();var g=+new Date,f="single";Jb&&Jb.time>g-400&&C(Jb.pos,
q)?(f="triple",B(a),setTimeout(fa,20),lc(q.line)):Ib&&Ib.time>g-400&&C(Ib.pos,q)?(f="double",Jb={time:g,pos:q},B(a),g=Dc(q),ea(g.from,g.to)):Ib={time:g,pos:q};var L=q,u;if(!m.dragDrop||!ad||m.readOnly||C(k.from,k.to)||I(q,k.from)||I(k.to,q)||"single"!=f){B(a);"single"==f&&Da(q.line,q.ch,!0);var p=k.from,r=k.to,v=A(document,"mousemove",x(function(a){clearTimeout(u);B(a);Ha||Oc(a)?d(a):h(a)}),!0),s=A(document,"mouseup",x(h),!0)}else{sb&&(t.draggable=!0);var s=A(document,"mouseup",x(b),!0),y=A(t,"drop",
x(b),!0);jb=!0;t.dragDrop&&t.dragDrop()}}else(a.target||a.srcElement)==t&&B(a)}));A(t,"dblclick",x(function(a){for(var b=a.target||a.srcElement;b!=T;b=b.parentNode)if(b.parentNode==Qa)return B(a);B(a)}));A(H,"selectstart",B);ab||A(t,"contextmenu",Mc);A(t,"scroll",function(a){m.fixedGutter&&W.style.left!=t.scrollLeft+"px"&&(W.style.left=t.scrollLeft+"px");t.scrollTop!=ua&&(ua=t.scrollTop,E.scrollTop!=ua&&(E.scrollTop=ua),Ba([]));if(m.onScroll)m.onScroll(F)});A(E,"scroll",function(a){E.scrollTop!=ua&&
(ua=t.scrollTop=E.scrollTop,Ba([]))});A(E,"mousedown",function(){Y&&setTimeout(fa,0)});var bd=A(window,"resize",function(){T.parentNode?Ba(!0):bd()},!0);A(y,"keyup",x(function(a){m.onKeyEvent&&m.onKeyEvent(F,Ua(a))||16==R(a,"keyCode")&&(ga=null)}));A(y,"input",Aa);A(y,"keydown",x(sc));A(y,"keypress",x(function(a){Na&&ob();if(!m.onKeyEvent||!m.onKeyEvent(F,Ua(a))){var b=R(a,"keyCode"),c=R(a,"charCode");ya&&b==Pb?(Pb=null,B(a)):(ya&&(!a.which||10>a.which)||jc)&&K(a)||(b=String.fromCharCode(null==c?
b:c),m.electricChars&&Q.electricChars&&m.smartIndent&&!m.readOnly&&-1<Q.electricChars.indexOf(b)&&setTimeout(x(function(){Db(k.to.line,"smart")}),75),Sc(a,b)||Aa())}}));A(y,"focus",Ma);A(y,"blur",Qb);m.dragDrop&&(A(t,"dragstart",Rc),A(t,"dragenter",c),A(t,"dragover",c),A(t,"drop",x(p)));A(t,"paste",function(){fa();Aa()});A(y,"paste",Aa);A(y,"cut",x(function(){m.readOnly||X("")}));jc&&A(oa,"mouseup",function(){document.activeElement==y&&y.blur();fa()});var Pc;try{Pc=document.activeElement==y}catch(cd){}Pc||
m.autofocus?setTimeout(Ma,20):Qb();var F=T.CodeMirror={getValue:u,setValue:x(L),getSelection:Nb,replaceSelection:x(X),getCode:u,setCode:L,focus:function(){window.focus();fa();Ma();Aa()},setOption:function(a,b){var c=m[a];m[a]=b;"mode"==a||"indentUnit"==a?Fc():"readOnly"==a&&"nocursor"==b?(Qb(),y.blur()):"readOnly"!=a||b?"theme"==a?Gc():"lineWrapping"==a&&c!=b?x(mc)():"tabSize"==a?Ba(!0):"keyMap"==a&&Hc():wb(!0);if("lineNumbers"==a||"gutter"==a||"firstLineNumber"==a||"theme"==a||"lineNumberFormatter"==
a)c=m.gutter||m.lineNumbers,W.style.display=c?"":"none",c?ka=!0:ba.parentNode.style.marginLeft=0,Ba(!0)},getOption:function(a){return m[a]},getMode:function(){return Q},undo:x(function(){uc(P.done,P.undone)}),redo:x(function(){uc(P.undone,P.done)}),indentLine:x(function(a,b){"string"!=typeof b&&(b=null==b?m.smartIndent?"smart":"prev":b?"add":"subtract");d(a)&&Db(a,b)}),indentSelection:x(function(a){if(C(k.from,k.to))return Db(k.from.line,a);for(var b=k.to.line-(k.to.ch?0:1),c=k.from.line;c<=b;++c)Db(c,
a)}),historySize:function(){return{undo:P.done.length,redo:P.undone.length}},clearHistory:function(){P=new Kb},setHistory:function(a){P=new Kb;P.done=a.done;P.undone=a.undone},getHistory:function(){function a(b){for(var e=0,c=[],d;e<b.length;++e){c.push(d=[]);for(var g=0,h=b[e];g<h.length;++g){var k=[],m=h[g];d.push({start:m.start,added:m.added,old:k});for(var q=0;q<m.old.length;++q)k.push(z(m.old[q]))}}return c}return{done:a(P.done),undone:a(P.undone)}},matchBrackets:x(function(){Nc(!0)}),getTokenAt:x(function(a){a=
G(a);return h(a.line).getTokenAt(Q,Va(a.line),m.tabSize,a.ch)}),getStateAfter:function(a){a=Bb(null==a?v.size-1:a);return Va(a+1)},cursorCoords:function(a,b){null==a&&(a=k.inverted);return this.charCoords(a?k.from:k.to,b)},charCoords:function(a,b){a=G(a);if("local"==b)return ra(a,!1);if("div"==b)return ra(a,!0);var c=ra(a,!0),d=Ra(H);return{x:d.left+c.x,y:d.top+c.y,yBot:d.top+c.yBot}},coordsChar:function(a){var b=Ra(H);return Hb(a.x-b.left,a.y-b.top)},markText:x(bc),setBookmark:function(a){a=G(a);
var b=new Fb("bookmark"),c=h(a.line);a={from:a.ch,to:a.ch,marker:b};(c.markedSpans||(c.markedSpans=[])).push(a);b.lines.push(c);return b},findMarksAt:function(a){a=G(a);var b=[],c=h(a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var g=c[d];(null==g.from||g.from<=a.ch)&&(null==g.to||g.to>=a.ch)&&b.push(g.marker)}return b},setMarker:x(function(a,b,c){"number"==typeof a&&(a=h(Bb(a)));a.gutterMarker={text:b,style:c};ka=!0;return a}),clearMarker:x(function(a){"number"==typeof a&&(a=h(Bb(a)));a.gutterMarker=
null;ka=!0}),setLineClass:x(function(a,b,c){return Ic(a,function(a){if(a.className!=b||a.bgClassName!=c)return a.className=b,a.bgClassName=c,!0})}),hideLine:x(function(a){return $b(a,!0)}),showLine:x(function(a){return $b(a,!1)}),onDeleteLine:function(a,b){if("number"==typeof a){if(!d(a))return null;a=h(a)}(a.handlers||(a.handlers=[])).push(b);return a},lineInfo:function(a){if("number"==typeof a){if(!d(a))return null;var b=a;a=h(a);if(!a)return null}else if(b=ca(a),null==b)return null;var c=a.gutterMarker;
return{line:b,handle:a,text:a.text,markerText:c&&c.text,markerClass:c&&c.style,lineClass:a.className,bgClass:a.bgClassName}},getViewport:function(){return{from:N,to:O}},addWidget:function(a,b,c,d,g){a=ra(G(a));var h=a.yBot,k=a.x;b.style.position="absolute";oa.appendChild(b);if("over"==d)h=a.y;else if("near"==d){d=Math.max(t.offsetHeight,v.height*na());var m=Math.max(oa.clientWidth,H.clientWidth)-H.offsetLeft;a.yBot+b.offsetHeight>d&&a.y>b.offsetHeight&&(h=a.y-b.offsetHeight);k+b.offsetWidth>m&&(k=
m-b.offsetWidth)}b.style.top=h+H.offsetTop+"px";b.style.left=b.style.right="";"right"==g?(k=oa.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==g?k=0:"middle"==g&&(k=(oa.clientWidth-b.offsetWidth)/2),b.style.left=k+H.offsetLeft+"px");c&&Fa(k,h,k+b.offsetWidth,h+b.offsetHeight)},lineCount:function(){return v.size},clipPos:G,getCursor:function(a){null==a&&(a=k.inverted);a=a?k.from:k.to;return{line:a.line,ch:a.ch}},somethingSelected:function(){return!C(k.from,k.to)},setCursor:x(function(a,b,c){null==
b&&"number"==typeof a.line?Da(a.line,a.ch,c):Da(a,b,c)}),setSelection:x(function(a,b,c){(c?ea:Za)(G(a),G(b||a))}),getLine:function(a){if(d(a))return h(a).text},getLineHandle:function(a){if(d(a))return h(a)},setLine:x(function(a,b){d(a)&&V(b,{line:a,ch:0},{line:a,ch:h(a).text.length})}),removeLine:x(function(a){d(a)&&V("",{line:a,ch:0},G({line:a+1,ch:0}))}),replaceRange:x(V),getRange:function(a,b,c){return yc(G(a),G(b),c)},triggerOnKeyDown:x(sc),execCommand:function(a){return Ob[a](F)},moveH:x(function(a,
b){var c=0>a?k.from:k.to;if(ga||C(k.from,k.to))c=ac(a,b);Da(c.line,c.ch,!0)}),deleteH:x(function(a,b){C(k.from,k.to)?0>a?V("",ac(a,b),k.to):V("",k.from,ac(a,b)):V("",k.from,k.to);yb=!0}),moveV:x(function(a,b){var c=ra(k.inverted?k.from:k.to,!0);null!=zb&&(c.x=zb);if("page"==b)var d=Math.min(t.clientHeight,window.innerHeight||document.documentElement.clientHeight),d=Hb(c.x,c.y+d*a);else"line"==b&&(d=na(),d=Hb(c.x,c.y+.5*d+a*d));"page"==b&&(E.scrollTop+=ra(d,!0).y-c.y);Da(d.line,d.ch,!0);zb=c.x}),toggleOverwrite:function(){vb?
(vb=!1,S.className=S.className.replace(" CodeMirror-overwrite","")):(vb=!0,S.className+=" CodeMirror-overwrite")},posFromIndex:function(a){var b=0,c;v.iter(0,v.size,function(d){d=d.text.length+1;if(d>a)return c=a,!0;a-=d;++b});return G({line:b,ch:c})},indexFromPos:function(a){if(0>a.line||0>a.ch)return 0;var b=a.ch;v.iter(0,a.line,function(a){b+=a.text.length+1});return b},scrollTo:function(a,b){null!=a&&(t.scrollLeft=a);null!=b&&(E.scrollTop=t.scrollTop=b);Ba([])},getScrollInfo:function(){return{x:t.scrollLeft,
y:E.scrollTop,height:E.scrollHeight,width:t.scrollWidth}},setSize:function(a,b){function c(a){a=String(a);return/^\d+$/.test(a)?a+"px":a}null!=a&&(T.style.width=c(a));null!=b&&(t.style.height=c(b));F.refresh()},operation:function(a){return x(a)()},compoundChange:function(a){return pc(a)},refresh:function(){Ba(!0,null,ua);E.scrollHeight>ua&&(E.scrollTop=ua)},getInputField:function(){return y},getWrapperElement:function(){return T},getScrollerElement:function(){return t},getGutterElement:function(){return W}},
rc,Pb=null,da="";Fb.prototype.clear=x(function(){for(var a=Infinity,b=-Infinity,c=0;c<this.lines.length;++c){var d=this.lines[c],g=Ea(d.markedSpans,this,!0);if(null!=g.from||null!=g.to)d=ca(d),a=Math.min(a,d),b=Math.max(b,d)}Infinity!=a&&qa.push({from:a,to:b+1});this.lines.length=0});Fb.prototype.find=function(){for(var a,b,c=0;c<this.lines.length;++c){var d=this.lines[c],g=Ea(d.markedSpans,this);if(null!=g.from||null!=g.to)d=ca(d),null!=g.from&&(a={line:d,ch:g.from}),null!=g.to&&(b={line:d,ch:g.to})}return"bookmark"==
this.type?a:a&&{from:a,to:b}};var dc,Jc,Ta,Lc,Kc=0,fc,gc={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},ub=0,cb;for(cb in Mb)Mb.propertyIsEnumerable(cb)&&!F.propertyIsEnumerable(cb)&&(F[cb]=Mb[cb]);return F}function J(a){return"string"==typeof a?sa[a]:a}function D(a,b,c,d,h){function q(b){b=J(b);var c=b[a];if(!1===c)return h&&h(),!0;if(null!=c&&d(c))return!0;if(b.nofallthrough)return h&&h(),!0;b=b.fallthrough;if(null==b)return!1;if("[object Array]"!=Object.prototype.toString.call(b))return q(b);
for(var c=0,f=b.length;c<f;++c)if(q(b[c]))return!0;return!1}return b&&q(b)?!0:q(c)}function xa(a){a=Ga[R(a,"keyCode")];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a}function U(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var c={},d;for(d in b){var h=b[d];h instanceof Array&&(h=h.concat([]));c[d]=h}return c}function pa(a,b,c){return a.startState?a.startState(b,c):!0}function K(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8}function Ea(a,b,c){if(a)for(var d=0;d<a.length;++d){var h=
a[d];if(h.marker==b)return c&&a.splice(d,1),h}}function M(a,b,c,d,h){if(!a&&!b)return h;if(a)for(var q=0,g;q<a.length;++q){var f=a[q],p=f.marker;if(null==f.from||(p.inclusiveLeft?f.from<=c:f.from<c)||"bookmark"==p.type&&f.from==c&&void 0!=f.from){var u=null==f.to||(p.inclusiveRight?f.to>=c:f.to>c);(g||(g=[])).push({from:f.from,to:u?null:f.to,marker:p})}}a=g;if(b)for(var q=0,r;q<b.length;++q)if(g=b[q],f=g.marker,null==g.to||(f.inclusiveRight?g.to>=d:g.to>d)||"bookmark"==f.type&&g.from==d)p=null==g.from||
(f.inclusiveLeft?g.from<=d:g.from<d),(r||(r=[])).push({from:p?null:g.from-d,to:null==g.to?null:g.to-d,marker:f});b=r;r=1==h.length;q=ha(h).length+(r?c:0);if(a)for(d=0;d<a.length;++d)if(g=a[d],null==g.to)(f=Ea(b,g.marker),f)?r&&(g.to=null==f.to?null:f.to+q):g.to=c;if(b)for(d=0;d<b.length;++d)g=b[d],null!=g.to&&(g.to+=q),null==g.from?(f=Ea(a,g.marker),f||(g.from=q,r&&(a||(a=[])).push(g))):(g.from+=q,r&&(a||(a=[])).push(g));c=[la(h[0],a)];if(!r){r=h.length-2;var s;if(0<r&&a)for(d=0;d<a.length;++d)null==
a[d].to&&(s||(s=[])).push({from:null,to:null,marker:a[d].marker});for(d=0;d<r;++d)c.push(la(h[d+1],s));c.push(la(ha(h),b))}return c}function z(a){return"string"==typeof a?a:a.text}function w(a){return"string"==typeof a?null:a.markedSpans}function la(a,b){return b?{text:a,markedSpans:b}:a}function u(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c){var d=b[c].marker.lines,h=Lb(d,a);d.splice(h,1)}a.markedSpans=null}}function p(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.lines.push(a);a.markedSpans=
b}}function r(a,b){this.text=a;this.height=1;p(this,b)}function ta(a){this.lines=a;this.parent=null;for(var b=0,c=a.length,d=0;b<c;++b)a[b].parent=this,d+=a[b].height;this.height=d}function ia(a){this.children=a;for(var b=0,c=0,d=0,h=a.length;d<h;++d){var q=a[d],b=b+q.chunkSize(),c=c+q.height;q.parent=this}this.size=b;this.height=c;this.parent=null}function ca(a){if(null==a.parent)return null;var b=a.parent;a=Lb(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var d=0;c.children[d]!=b;++d)a+=c.children[d].chunkSize();
return a}function Wb(a,b){var c=0;a:do{for(var d=0,h=a.children.length;d<h;++d){var q=a.children[d],g=q.height;if(b<g){a=q;continue a}b-=g;c+=q.chunkSize()}return c}while(!a.lines);d=0;for(h=a.lines.length;d<h;++d){q=a.lines[d].height;if(b<q)break;b-=q}return c+d}function Xb(a,b){var c=0;a:do{for(var d=0,h=a.children.length;d<h;++d){var q=a.children[d],g=q.chunkSize();if(b<g){a=q;continue a}b-=g;c+=q.height}return c}while(!a.lines);for(d=0;d<b;++d)c+=a.lines[d].height;return c}function Kb(){this.time=
0;this.done=[];this.undone=[];this.compound=0;this.closed=!1}function lc(){hb(this)}function Ua(a){a.stop||(a.stop=lc);return a}function B(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function db(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function hb(a){B(a);db(a)}function Oc(a){var b=a.which;null==b&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&(b=2));mb&&a.ctrlKey&&1==b&&(b=3);return b}function R(a,b){return a.override&&a.override.hasOwnProperty(b)?a.override[b]:a[b]}function A(a,
b,c,d){if("function"==typeof a.addEventListener){if(a.addEventListener(b,c,!1),d)return function(){a.removeEventListener(b,c,!1)}}else{var h=function(a){c(a||window.event)};a.attachEvent("on"+b,h);if(d)return function(){a.detachEvent("on"+b,h)}}}function kc(){this.id=null}function eb(a,b,c){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var d=0,h=0;d<b;++d)"\t"==a.charAt(d)?h+=c-h%c:++h;return h}function Ra(a,b){try{var c=a.getBoundingClientRect(),c={top:c.top,left:c.left}}catch(d){c=
{top:0,left:0}}if(!b)if(null==window.pageYOffset){var h=document.documentElement||document.body.parentNode;null==h.scrollTop&&(h=document.body);c.top+=h.scrollTop;c.left+=h.scrollLeft}else c.top+=window.pageYOffset,c.left+=window.pageXOffset;return c}function Wc(a){return a.textContent||a.innerText||a.nodeValue||""}function Ec(a){for(;Ja.length<=a;)Ja.push(ha(Ja)+" ");return Ja[a]}function ha(a){return a[a.length-1]}function C(a,b){return a.line==b.line&&a.ch==b.ch}function I(a,b){return a.line<b.line||
a.line==b.line&&a.ch<b.ch}function s(a,b,c,d){a=document.createElement(a);c&&(a.className=c);d&&(a.style.cssText=d);if("string"==typeof b)fb(a,b);else if(b)for(c=0;c<b.length;++c)a.appendChild(b[c]);return a}function Zb(a){a.innerHTML="";return a}function $a(a,b){Zb(a).appendChild(b)}function fb(a,b){ec?(a.innerHTML="",a.appendChild(document.createTextNode(b))):a.textContent=b}function Tc(a,b){if(!b)return 0;if(!a)return b.length;for(var c=a.length,d=b.length;0<=c&&0<=d&&a.charAt(c)==b.charAt(d);--c,
--d);return d+1}function Lb(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;++c)if(a[c]==b)return c;return-1}function Cb(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}f.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,dragDrop:!0,onChange:null,
onCursorActivity:null,onViewportChange:null,onGutterClick:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,cursorBlinkRate:530,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null,lineNumberFormatter:function(a){return a}};var Vb=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),mb=Vb||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var Ka=f.modes={},va=f.mimeModes={};f.defineMode=function(a,b){f.defaults.mode||
"null"==a||(f.defaults.mode=a);if(2<arguments.length){b.dependencies=[];for(var c=2;c<arguments.length;++c)b.dependencies.push(arguments[c])}Ka[a]=b};f.defineMIME=function(a,b){va[a]=b};f.resolveMode=function(a){if("string"==typeof a&&va.hasOwnProperty(a))a=va[a];else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return f.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}};f.getMode=function(a,b){b=f.resolveMode(b);var c=Ka[b.name];if(!c)return f.getMode(a,
"text/plain");c=c(a,b);if(Fa.hasOwnProperty(b.name)){var d=Fa[b.name],h;for(h in d)d.hasOwnProperty(h)&&(c[h]=d[h])}c.name=b.name;return c};f.listModes=function(){var a=[],b;for(b in Ka)Ka.propertyIsEnumerable(b)&&a.push(b);return a};f.listMIMEs=function(){var a=[],b;for(b in va)va.propertyIsEnumerable(b)&&a.push({mime:b,mode:va[b]});return a};var Mb=f.extensions={};f.defineExtension=function(a,b){Mb[a]=b};var Fa=f.modeExtensions={};f.extendMode=function(a,b){var c=Fa.hasOwnProperty(a)?Fa[a]:Fa[a]=
{},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d])};var Ob=f.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),d=!C(b,c);d||a.getLine(b.line).length!=b.ch?a.replaceRange("",b,d?c:{line:b.line}):a.replaceRange("",b,{line:b.line+1,ch:0})},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,
0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),c=Math.max(0,c.search(/\S/));a.setCursor(b.line,b.ch<=c&&b.ch?0:c,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,
"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},
indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end")},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.replaceSelection("\t","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);0<b.ch&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n",
"end");a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},sa=f.keyMap={};sa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};sa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo",
"Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};sa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine",
"Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};
sa["default"]=mb?sa.macDefault:sa.pcDefault;sa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};f.fromTextArea=function(a,b){function c(){a.value=p.getValue()}b||(b={});b.value=
a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);if(null==b.autofocus){var d=document.body;try{d=document.activeElement}catch(h){}b.autofocus=d==a||null!=a.getAttribute("autofocus")&&d==document.body}if(a.form){var q=A(a.form,"submit",c,!0);if("function"==typeof a.form.submit){var g=a.form.submit;a.form.submit=function Qc(){c();a.form.submit=g;a.form.submit();a.form.submit=Qc}}}a.style.display="none";var p=f(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);p.save=c;p.getTextArea=
function(){return a};p.toTextArea=function(){c();a.parentNode.removeChild(p.getWrapperElement());a.style.display="";a.form&&(q(),"function"==typeof a.form.submit&&(a.form.submit=g))};return p};var ab=/gecko\/\d{7}/i.test(navigator.userAgent),Ha=/MSIE \d/.test(navigator.userAgent),hc=/MSIE [1-7]\b/.test(navigator.userAgent),ec=/MSIE [1-8]\b/.test(navigator.userAgent),Xc=Ha&&5==document.documentMode,sb=/WebKit\//.test(navigator.userAgent),mc=/Chrome\//.test(navigator.userAgent),ya=/Opera\//.test(navigator.userAgent),
nc=/Apple Computer/.test(navigator.vendor),jc=/KHTML\//.test(navigator.userAgent),$c=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent);f.copyState=U;f.startState=pa;f.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);b=c.state;a=c.mode}return c||{mode:a,state:b}};K.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},
eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){return eb(this.string,
this.start,this.tabSize)},indentation:function(){return eb(this.string,null,this.tabSize)},match:function(a,b,c){if("string"==typeof a){var d=function(a){return c?a.toLowerCase():a};if(d(this.string).indexOf(d(a),this.pos)==this.pos)return!1!==b&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==b&&(this.pos+=a[0].length);return a}},current:function(){return this.string.slice(this.start,this.pos)}};f.StringStream=K;var gb=" ";ab||Ha&&!hc?gb="\u200b":
ya&&(gb="");r.prototype={update:function(a,b){this.text=a;this.stateAfter=this.styles=null;u(this);p(this,b)},highlight:function(a,b,c){c=new K(this.text,c);var d=this.styles||(this.styles=[]),h=d.length=0;for(""==this.text&&a.blankLine&&a.blankLine(b);!c.eol();){var q=a.token(c,b),g=c.current();c.start=c.pos;h&&d[h-1]==q?d[h-2]+=g:g&&(d[h++]=g,d[h++]=q);if(5E3<c.pos){d[h++]=this.text.slice(c.pos);d[h++]=null;break}}},process:function(a,b,c){c=new K(this.text,c);for(""==this.text&&a.blankLine&&a.blankLine(b);!c.eol()&&
5E3>=c.pos;)a.token(c,b),c.start=c.pos},getTokenAt:function(a,b,c,d){for(c=new K(this.text,c);c.pos<d&&!c.eol();){c.start=c.pos;var h=a.token(c,b)}return{start:c.start,end:c.pos,string:c.current(),className:h||null,state:b}},indentation:function(a){return eb(this.text,null,a)},getContent:function(a,b,c){function d(b,c,d){if(c){q&&Ha&&" "==c.charAt(0)&&(c="\u00a0"+c.slice(1));q=!1;if(f.test(c))for(var h=document.createDocumentFragment(),p=0;;){f.lastIndex=p;var u=f.exec(c),r=u?u.index-p:c.length-p;
r&&(h.appendChild(document.createTextNode(c.slice(p,p+r))),g+=r);if(!u)break;p+=r+1;"\t"==u[0]?(u=a-g%a,h.appendChild(s("span",Ec(u),"cm-tab")),g+=u):(r=s("span","\u2022","cm-invalidchar"),r.title="\\u"+u[0].charCodeAt(0).toString(16),h.appendChild(r),g+=1)}else{g+=c.length;var h=document.createTextNode(c)}d?b.appendChild(s("span",[h],d)):b.appendChild(h)}}function h(a){return a?"cm-"+a.replace(/ +/g," cm-"):null}var q=!0,g=0,f=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g,p=s("pre"),r=d;if(null!=
b)var u=0,ta=p.anchor=s("span"),r=function(a,g,h){var f=g.length;if(b>=u&&b<u+f){b>u&&(d(a,g.slice(0,b-u),h),c&&a.appendChild(s("wbr")));a.appendChild(ta);var q=b-u;d(ta,ya?g.slice(q,q+1):g.slice(q),h);ya&&d(a,g.slice(q+1),h);b--;u+=f}else u+=f,d(a,g,h),u==b&&u==ia?(fb(ta,gb),a.appendChild(ta)):u>b+10&&/\s/.test(g)&&(r=function(){})};var A=this.styles,z=this.text,C=this.markedSpans,ia=z.length;if(z||null!=b)if(C&&C.length){C.sort(function(a,b){return a.from-b.from});for(var w=0,z=0,B="",ca=C[0].from||
0,D=[],M=0,K=function(){for(var a;M<C.length&&((a=C[M]).from==w||null==a.from);)"range"==a.marker.type&&D.push(a),++M;ca=M<C.length?C[M].from:Infinity;for(a=0;a<D.length;++a){var b=D[a].to;null==b&&(b=Infinity);b==w?D.splice(a--,1):ca=Math.min(b,ca)}};w<ia;){ca==w&&K();for(var I=Math.min(ia,ca);;){if(B){for(var V=w+B.length,X=U,R=0;R<D.length;++R){var J=D[R],X=(X?X+" ":"")+J.marker.style;J.marker.endStyle&&J.to===Math.min(V,I)&&(X+=" "+J.marker.endStyle);J.marker.startStyle&&J.from===w&&(X+=" "+J.marker.startStyle)}r(p,
V>I?B.slice(0,I-w):B,X);if(V>=I){B=B.slice(I-w);w=I;break}w=V}B=A[z++];U=h(A[z++])}}}else for(B=z=0;B<ia;z+=2){var K=A[z],U=A[z+1],I=K.length;B+I>ia&&(K=K.slice(0,ia-B));B+=I;r(p,K,h(U))}else r(p," ");return p},cleanUp:function(){this.parent=null;u(this)}};ta.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var d=a,h=a+b;d<h;++d){var f=this.lines[d];this.height-=f.height;f.cleanUp();if(f.handlers)for(var g=0;g<f.handlers.length;++g)c.push(f.handlers[g])}this.lines.splice(a,
b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));a=0;for(c=b.length;a<c;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};ia.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var d=0;d<this.children.length;++d){var h=this.children[d],f=h.chunkSize();if(a<f){var g=Math.min(b,f-
a),p=h.height;h.remove(a,g,c);this.height-=p-h.height;f==g&&(this.children.splice(d--,1),h.parent=null);if(0==(b-=g))break;a=0}else a-=f}25>this.size-b&&(a=[],this.collapse(a),this.children=[new ta(a)],this.children[0].parent=this)},collapse:function(a){for(var b=0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,d=0,h=b.length;d<h;++d)c+=b[d].height;this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length;this.height+=c;for(var d=0,h=
this.children.length;d<h;++d){var f=this.children[d],g=f.chunkSize();if(a<=g){f.insertHeight(a,b,c);if(f.lines&&50<f.lines.length){for(;50<f.lines.length;)a=f.lines.splice(f.lines.length-25,25),a=new ta(a),f.height-=a.height,this.children.splice(d+1,0,a),a.parent=this;this.maybeSpill()}break}a-=g}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new ia(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=Lb(a.parent.children,
a);a.parent.children.splice(c+1,0,b)}else c=new ia(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(a,b,c){for(var d=0,h=this.children.length;d<h;++d){var f=this.children[d],g=f.chunkSize();if(a<g){g=Math.min(b,g-a);if(f.iterN(a,g,c))return!0;if(0==(b-=g))break;a=0}else a-=g}}};Kb.prototype={addChange:function(a,b,c){this.undone.length=0;var d=+new Date,h=ha(this.done),f=h&&ha(h),
g=d-this.time;if(this.compound&&h&&!this.closed)h.push({start:a,added:b,old:c});else if(400<g||!f||this.closed||f.start>a+c.length||f.start+f.added<a)this.done.push([{start:a,added:b,old:c}]),this.closed=!1;else{for(var h=Math.max(0,f.start-a),g=Math.max(0,a+c.length-(f.start+f.added)),p=h;0<p;--p)f.old.unshift(c[p-1]);for(p=g;0<p;--p)f.old.push(c[c.length-p]);h&&(f.start=a);f.added+=b-(c.length-h-g)}this.time=d},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||
(this.closed=!0)}};f.e_stop=hb;f.e_preventDefault=B;f.e_stopPropagation=db;f.connect=A;kc.prototype={set:function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)}};var qc=f.Pass={toString:function(){return"CodeMirror.Pass"}},ad=function(){if(ec)return!1;var a=s("div");return"draggable"in a||"dragDrop"in a}();(function(){var a=s("textarea");a.value="foo\nbar";return-1<a.value.indexOf("\r")?"\r\n":"\n"})();var Gb=/^$/;ab?Gb=/$'/:nc?Gb=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:mc&&(Gb=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);
var Ja=[""],ib=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;b<=d;){var h=a.indexOf("\n",b);-1==h&&(h=a.length);var f=a.slice(b,"\r"==a.charAt(h-1)?h-1:h),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=h+1)}return c}:function(a){return a.split(/\r\n?|\n/)};f.splitLines=ib;var Uc=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&
b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1};f.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});f.defineMIME("text/plain","null");var Ga={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",
189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};f.keyNames=Ga;(function(){for(var a=0;10>a;a++)Ga[a+48]=String(a);for(a=65;90>=a;a++)Ga[a]=String.fromCharCode(a);for(a=1;12>=a;a++)Ga[a+111]=Ga[a+63235]="F"+a})();f.version="2.34";return f}();
CodeMirror.runMode=function(f,J,D,xa){function U(f){return f.replace(/[<&]/,function(f){return"<"==f?"&lt;":"&amp;"})}J=CodeMirror.getMode(CodeMirror.defaults,J);var pa=1==D.nodeType,K=xa&&xa.tabSize||CodeMirror.defaults.tabSize;if(pa){var Ea=D,M=[],z=0;D=function(f,p){if("\n"==f)M.push("<br>"),z=0;else{for(var u="",w=0;;){var D=f.indexOf("\t",w);if(-1==D){u+=U(f.slice(w));z+=f.length-w;break}else{z+=D-w;u+=U(f.slice(w,D));w=K-z%K;z+=w;for(var J=0;J<w;++J)u+=" ";w=D+1}}p?M.push('<span class="cm-'+
U(p)+'">'+u+"</span>"):M.push(u)}}}f=CodeMirror.splitLines(f);xa=CodeMirror.startState(J);for(var w=0,la=f.length;w<la;++w){w&&D("\n");for(var u=new CodeMirror.StringStream(f[w]);!u.eol();){var p=J.token(u,xa);D(u.current(),p,w,u.start);u.start=u.pos}}pa&&(Ea.innerHTML=M.join(""))};
CodeMirror.defineMode("mysql",function(f){function J(f){return new RegExp("^(?:"+f.join("|")+")$","i")}function D(f,p){var r=f.next();M=null;if("$"==r||"?"==r)return f.match(/^[\w\d]*/),"variable-2";if("<"!=r||f.match(/^[\s\u00a0=]/,!1)){if('"'==r||"'"==r)return p.tokenize=xa(r),p.tokenize(f,p);if("`"==r)return p.tokenize=U(r),p.tokenize(f,p);if(/[{}\(\),\.;\[\]]/.test(r))return M=r,null;if("-"==r){if("-"==f.next())return f.skipToEnd(),"comment"}else{if(la.test(r))return f.eatWhile(la),null;if(":"==
r)return f.eatWhile(/[\w\d\._\-]/),"atom";f.eatWhile(/[_\w\d]/);if(f.eat(":"))return f.eatWhile(/[\w\d_\-]/),"atom";r=f.current();return z.test(r)?null:w.test(r)?"keyword":"variable"}}else return f.match(/^[^\s\u00a0>]*>?/),"atom"}function xa(f){return function(p,r){for(var w=!1,z;null!=(z=p.next());){if(z==f&&!w){r.tokenize=D;break}w=!w&&"\\"==z}return"string"}}function U(f){return function(p,r){for(var w=!1,z;null!=(z=p.next());){if(z==f&&!w){r.tokenize=D;break}w=!w&&"\\"==z}return"variable-2"}}
function pa(f,p,r){f.context={prev:f.context,indent:f.indent,col:r,type:p}}function K(f){f.indent=f.context.indent;f.context=f.context.prev}var Ea=f.indentUnit,M,z=J("str lang langmatches datatype bound sameterm isiri isuri isblank isliteral union a".split(" ")),w=J("ACCESSIBLE ALTER AS BEFORE BINARY BY CASE CHARACTER COLUMN CONTINUE CROSS CURRENT_TIMESTAMP DATABASE DAY_MICROSECOND DEC DEFAULT DESC DISTINCT DOUBLE EACH ENCLOSED EXIT FETCH FLOAT8 FOREIGN GRANT HIGH_PRIORITY HOUR_SECOND IN INNER INSERT INT2 INT8 INTO JOIN KILL LEFT LINEAR LOCALTIME LONG LOOP MATCH MEDIUMTEXT MINUTE_SECOND NATURAL NULL OPTIMIZE OR OUTER PRIMARY RANGE READ_WRITE REGEXP REPEAT RESTRICT RIGHT SCHEMAS SENSITIVE SHOW SPECIFIC SQLSTATE SQL_CALC_FOUND_ROWS STARTING TERMINATED TINYINT TRAILING UNDO UNLOCK USAGE UTC_DATE VALUES VARCHARACTER WHERE WRITE ZEROFILL ALL AND ASENSITIVE BIGINT BOTH CASCADE CHAR COLLATE CONSTRAINT CREATE CURRENT_TIME CURSOR DAY_HOUR DAY_SECOND DECLARE DELETE DETERMINISTIC DIV DUAL ELSEIF EXISTS FALSE FLOAT4 FORCE FULLTEXT HAVING HOUR_MINUTE IGNORE INFILE INSENSITIVE INT1 INT4 INTERVAL ITERATE KEYS LEAVE LIMIT LOAD LOCK LONGTEXT MASTER_SSL_VERIFY_SERVER_CERT MEDIUMINT MINUTE_MICROSECOND MODIFIES NO_WRITE_TO_BINLOG ON OPTIONALLY OUT PRECISION PURGE READS REFERENCES RENAME REQUIRE REVOKE SCHEMA SELECT SET SPATIAL SQLEXCEPTION SQL_BIG_RESULT SSL TABLE TINYBLOB TO TRUE UNIQUE UPDATE USING UTC_TIMESTAMP VARCHAR WHEN WITH YEAR_MONTH ADD ANALYZE ASC BETWEEN BLOB CALL CHANGE CHECK CONDITION CONVERT CURRENT_DATE CURRENT_USER DATABASES DAY_MINUTE DECIMAL DELAYED DESCRIBE DISTINCTROW DROP ELSE ESCAPED EXPLAIN FLOAT FOR FROM GROUP HOUR_MICROSECOND IF INDEX INOUT INT INT3 INTEGER IS KEY LEADING LIKE LINES LOCALTIMESTAMP LONGBLOB LOW_PRIORITY MEDIUMBLOB MIDDLEINT MOD NOT NUMERIC OPTION ORDER OUTFILE PROCEDURE READ REAL RELEASE REPLACE RETURN RLIKE SECOND_MICROSECOND SEPARATOR SMALLINT SQL SQLWARNING SQL_SMALL_RESULT STRAIGHT_JOIN THEN TINYTEXT TRIGGER UNION UNSIGNED USE UTC_TIME VARBINARY VARYING WHILE XOR FULL COLUMNS MIN MAX STDEV COUNT".split(" ")),
la=/[*+\-<>=&|]/;return{startState:function(f){return{tokenize:D,context:null,indent:0,col:0}},token:function(f,p){f.sol()&&(p.context&&null==p.context.align&&(p.context.align=!1),p.indent=f.indentation());if(f.eatSpace())return null;var r=p.tokenize(f,p);"comment"!=r&&p.context&&null==p.context.align&&"pattern"!=p.context.type&&(p.context.align=!0);if("("==M)pa(p,")",f.column());else if("["==M)pa(p,"]",f.column());else if("{"==M)pa(p,"}",f.column());else if(/[\]\}\)]/.test(M)){for(;p.context&&"pattern"==
p.context.type;)K(p);p.context&&M==p.context.type&&K(p)}else"."==M&&p.context&&"pattern"==p.context.type?K(p):/atom|string|variable/.test(r)&&p.context&&(/[\}\]]/.test(p.context.type)?pa(p,"pattern",f.column()):"pattern"!=p.context.type||p.context.align||(p.context.align=!0,p.context.col=f.column()));return r},indent:function(f,p){var r=p&&p.charAt(0),w=f.context;if(/[\]\}]/.test(r))for(;w&&"pattern"==w.type;)w=w.prev;r=w&&r==w.type;return w?"pattern"==w.type?w.col:w.align?w.col+(r?0:1):w.indent+
(r?0:Ea):0}}});CodeMirror.defineMIME("text/x-mysql","mysql");CodeMirror.defineExtension("canHighlight",function(){return!0});CodeMirror.defineExtension("highlightSql",function(f,J,D){CodeMirror.runMode(D,"text/x-mysql",f.get(0))});CodeMirror.defineExtension("lastLine",function(){return this.lineCount()});CodeMirror.defineExtension("jumpToLine",function(f){this.setCursor(f,null)});
